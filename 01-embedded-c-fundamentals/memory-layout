# Memory Layout in Embedded Systems (Interview Guide)

Understanding memory layout is CRITICAL for embedded interviews.
Most real bugs happen due to stack/heap misuse.

---

## 1. Typical Embedded Memory Regions

| Section | Purpose |
|-------|--------|
| Text | Program code (Flash) |
| Data | Initialized global/static variables |
| BSS | Uninitialized global/static variables |
| Heap | Dynamic memory allocation |
| Stack | Function calls, local variables |

---

## 2. Stack
**Interview Questions**
- What is stack used for?
- Why is stack limited in embedded systems?

**Key Points**
- Stores local variables and return addresses
- Grows downward
- Stack overflow causes HardFault
- Fast (CPU managed)

---

## 3. Heap
**Interview Questions**
- Why is heap dangerous in embedded?
- malloc vs static allocation?

**Key Points**
- Used for dynamic allocation
- Fragmentation risk
- Non-deterministic timing
- Often disabled in safety systems

---

## 4. BSS Section
**Interview Question**
Why uninitialized globals donâ€™t increase firmware size?

**Answer**
- BSS is zero-initialized at startup
- Does NOT occupy Flash
- Only RAM is reserved

---

## 5. Data Section
**Key Points**
- Initialized globals/statics
- Stored in Flash
- Copied to RAM during startup

---

## 6. Linker Script (VERY IMPORTANT)
**Interview Questions**
- Role of linker script?
- Why embedded needs custom linker?

**Answer**
- Controls memory placement
- Defines stack/heap size
- Maps Flash and RAM
- Required for bootloader, MMIO, RTOS

---

## 7. Common Bugs
- Stack overflow
- Heap fragmentation
- Large local arrays
- Recursive functions

---

## 8. Embedded Interview Tip
If you understand memory layout, you understand **real embedded systems**.
